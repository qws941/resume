{
  "annotations": { "list": [] },
  "panels": [
    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 0 },
      "id": 18,
      "title": "Security Posture",
      "type": "row"
    },
    {
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": { "1": { "color": "green", "text": "A+" } },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [{ "color": "green", "value": null }]
          }
        }
      },
      "gridPos": { "h": 4, "w": 6, "x": 0, "y": 1 },
      "id": 1,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "textMode": "auto"
      },
      "targets": [{ "expr": "1", "instant": true, "refId": "A" }],
      "title": "Security Headers",
      "description": "securityheaders.com grade",
      "type": "stat"
    },
    {
      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": { "1": { "color": "green", "text": "TLS 1.3" } },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [{ "color": "green", "value": null }]
          }
        }
      },
      "gridPos": { "h": 4, "w": 6, "x": 6, "y": 1 },
      "id": 2,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "textMode": "auto"
      },
      "targets": [
        {
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
          "expr": "probe_tls_version_info{instance=\"https://resume.jclee.me\", version=\"TLS 1.3\"}",
          "instant": true,
          "refId": "A"
        }
      ],
      "title": "TLS Version",
      "type": "stat"
    },
    {
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": { "1": { "color": "blue", "text": "2 Years" } },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [{ "color": "blue", "value": null }]
          }
        }
      },
      "gridPos": { "h": 4, "w": 6, "x": 12, "y": 1 },
      "id": 3,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "textMode": "auto"
      },
      "targets": [{ "expr": "1", "instant": true, "refId": "A" }],
      "title": "HSTS Duration",
      "description": "Strict-Transport-Security max-age",
      "type": "stat"
    },
    {
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": { "1": { "color": "purple", "text": "8 SHA256" } },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [{ "color": "purple", "value": null }]
          }
        }
      },
      "gridPos": { "h": 4, "w": 6, "x": 18, "y": 1 },
      "id": 4,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "textMode": "auto"
      },
      "targets": [{ "expr": "1", "instant": true, "refId": "A" }],
      "title": "CSP Hashes",
      "description": "Content-Security-Policy script/style hashes",
      "type": "stat"
    },
    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 5 },
      "id": 19,
      "title": "Certificate & Encryption",
      "type": "row"
    },
    {
      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "thresholds" },
          "decimals": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "red", "value": null },
              { "color": "yellow", "value": 7 },
              { "color": "green", "value": 30 }
            ]
          },
          "unit": "d"
        }
      },
      "gridPos": { "h": 4, "w": 8, "x": 0, "y": 6 },
      "id": 5,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "textMode": "auto"
      },
      "targets": [
        {
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
          "expr": "(probe_ssl_earliest_cert_expiry{instance=\"https://resume.jclee.me\"} - time()) / 86400",
          "instant": true,
          "refId": "A"
        }
      ],
      "title": "SSL Certificate",
      "description": "Days until certificate expiry",
      "type": "stat"
    },
    {
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": {
                "1": { "color": "purple", "text": "Google Trust Services" }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [{ "color": "purple", "value": null }]
          }
        }
      },
      "gridPos": { "h": 4, "w": 8, "x": 8, "y": 6 },
      "id": 6,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "textMode": "auto"
      },
      "targets": [{ "expr": "1", "instant": true, "refId": "A" }],
      "title": "Certificate Authority",
      "type": "stat"
    },
    {
      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
      "fieldConfig": {
        "defaults": {
          "mappings": [
            {
              "options": { "1": { "color": "green", "text": "Enforced" } },
              "type": "value"
            },
            {
              "options": { "0": { "color": "red", "text": "Not Enforced" } },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [{ "color": "green", "value": null }]
          }
        }
      },
      "gridPos": { "h": 4, "w": 8, "x": 16, "y": 6 },
      "id": 7,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "textMode": "auto"
      },
      "targets": [
        {
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
          "expr": "probe_http_ssl{instance=\"https://resume.jclee.me\"}",
          "instant": true,
          "refId": "A"
        }
      ],
      "title": "HTTPS Enforced",
      "type": "stat"
    },
    {
      "gridPos": { "h": 8, "w": 24, "x": 0, "y": 10 },
      "id": 8,
      "options": {
        "code": { "language": "plaintext", "showLineNumbers": false },
        "content": "```mermaid\nflowchart LR\n    subgraph Edge[\"Cloudflare Edge (310+ Cities)\"]\n        Worker[\"Portfolio Worker<br/>TypeScript\"]\n    end\n    subgraph Monitoring[\"Observability Stack\"]\n        Prom[\"Prometheus<br/>Metrics\"]\n        Grafana[\"Grafana<br/>Dashboards\"]\n        Loki[\"Loki<br/>Logs\"]\n    end\n    subgraph Probing[\"Health Checks\"]\n        BB[\"Blackbox<br/>Exporter\"]\n    end\n    \n    User((\"User\")) --> Edge\n    BB -->|probe| Worker\n    BB --> Prom\n    Prom --> Grafana\n    Worker -->|logs| Loki\n    Loki --> Grafana\n```",
        "mode": "markdown"
      },
      "title": "Service Architecture",
      "type": "text"
    },
    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 18 },
      "id": 20,
      "title": "Operational Metrics",
      "type": "row"
    },
    {
      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "thresholds" },
          "decimals": 2,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "red", "value": null },
              { "color": "yellow", "value": 99 },
              { "color": "green", "value": 99.9 }
            ]
          },
          "unit": "percent"
        }
      },
      "gridPos": { "h": 5, "w": 6, "x": 0, "y": 19 },
      "id": 9,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "textMode": "auto"
      },
      "targets": [
        {
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
          "expr": "avg_over_time(probe_success{instance=\"https://resume.jclee.me\"}[30d]) * 100",
          "instant": true,
          "refId": "A"
        }
      ],
      "title": "30-Day Uptime",
      "type": "stat"
    },
    {
      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
      "fieldConfig": {
        "defaults": {
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 100 },
              { "color": "red", "value": 500 }
            ]
          },
          "unit": "ms"
        }
      },
      "gridPos": { "h": 5, "w": 6, "x": 6, "y": 19 },
      "id": 10,
      "options": {
        "colorMode": "background",
        "graphMode": "none",
        "justifyMode": "center",
        "textMode": "auto"
      },
      "targets": [
        {
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
          "expr": "probe_http_duration_seconds{instance=\"https://resume.jclee.me\", phase=\"processing\"} * 1000",
          "instant": true,
          "refId": "A"
        }
      ],
      "title": "Response Time",
      "type": "stat"
    },
    {
      "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "max": 1,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [{ "color": "green", "value": null }]
          },
          "unit": "percentunit"
        }
      },
      "gridPos": { "h": 5, "w": 12, "x": 12, "y": 19 },
      "id": 11,
      "options": {
        "legend": { "displayMode": "hidden" },
        "tooltip": { "mode": "single" }
      },
      "targets": [
        {
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" },
          "expr": "avg_over_time(probe_success{instance=\"https://resume.jclee.me\"}[5m])",
          "legendFormat": "Availability",
          "refId": "A"
        }
      ],
      "title": "Availability (24h)",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 24 },
      "id": 21,
      "title": "Monitoring Stack",
      "type": "row"
    },
    {
      "gridPos": { "h": 6, "w": 8, "x": 0, "y": 25 },
      "id": 12,
      "options": {
        "code": { "language": "plaintext", "showLineNumbers": false },
        "content": "### Observability Stack\n\n- **Grafana** - Dashboard visualization\n- **Prometheus** - Metrics collection\n- **Loki** - Log aggregation\n- **Blackbox Exporter** - Endpoint probing\n- **Alertmanager** - Alert routing",
        "mode": "markdown"
      },
      "title": "",
      "type": "text"
    },
    {
      "gridPos": { "h": 6, "w": 8, "x": 8, "y": 25 },
      "id": 13,
      "options": {
        "code": { "language": "plaintext", "showLineNumbers": false },
        "content": "### Alerting Rules\n\n- **High Error Rate** (>5%) - Critical\n- **High Latency** (>500ms) - Warning\n- **Service Down** (1min) - Critical\n- **Zero Traffic** (15min) - Warning\n- Slack notifications enabled",
        "mode": "markdown"
      },
      "title": "",
      "type": "text"
    },
    {
      "gridPos": { "h": 6, "w": 8, "x": 16, "y": 25 },
      "id": 14,
      "options": {
        "code": { "language": "plaintext", "showLineNumbers": false },
        "content": "### Automation\n\n- **GitLab CI/CD** - Automated deployment\n- **n8n** - Health check workflows\n- **Bazel** - Build coordination\n- Zero-downtime deploys\n- Self-healing infrastructure",
        "mode": "markdown"
      },
      "title": "",
      "type": "text"
    }
  ],
  "refresh": "1m",
  "schemaVersion": 39,
  "tags": ["public", "portfolio", "resume", "security"],
  "templating": { "list": [] },
  "time": { "from": "now-24h", "to": "now" },
  "timezone": "Asia/Seoul",
  "title": "Security & Operations Dashboard",
  "uid": "resume-public"
}
