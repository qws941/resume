/* Skip to content link for accessibility */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--color-accent-dark);
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  z-index: 10000;
  border-radius: 0 0 4px 0;
  font-weight: var(--font-semibold);
  transition: top 0.2s ease;
}

.skip-link:focus {
  top: 0;
}

/* Focus-visible styles for keyboard navigation */
*:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
  border-radius: 4px;
}

a:focus-visible,
button:focus-visible {
  outline: 2px solid var(--color-accent);
  outline-offset: 3px;
}

*:focus:not(:focus-visible) {
  outline: none;
}

/* Screen reader only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* High Contrast Mode Support */
@media (prefers-contrast: more) {
  :root {
    --text-primary: #000000;
    --text-secondary: #1a1a1a;
    --bg-primary: #ffffff;
    --bg-secondary: #f5f5f5;
    --border-color: #000000;
  }

  [data-theme='dark'] {
    --text-primary: #ffffff;
    --text-secondary: #f0f0f0;
    --bg-primary: #000000;
    --bg-secondary: #0a0a0a;
    --border-color: #ffffff;
  }

  .project-card,
  .doc-card,
  .stat-card,
  .contact-item,
  .infra-card {
    border: 2px solid var(--border-color, currentColor);
  }

  *:focus-visible {
    outline-width: 3px;
    outline-style: solid;
    outline-offset: 3px;
  }

  * {
    text-shadow: none !important;
    box-shadow: none !important;
  }

  a {
    text-decoration: underline;
    text-decoration-thickness: 2px;
  }

  .btn {
    border: 2px solid currentColor;
  }
}

/* Windows High Contrast Mode (forced-colors) */
@media (forced-colors: active) {
  :root {
    --color-accent: LinkText;
  }

  .project-card,
  .doc-card,
  .stat-card,
  .contact-item,
  .infra-card,
  .nav,
  .btn {
    border: 2px solid CanvasText;
    forced-color-adjust: none;
  }

  *:focus-visible {
    outline: 3px solid Highlight;
    outline-offset: 2px;
  }

  a {
    color: LinkText;
  }

  a:visited {
    color: VisitedText;
  }

  .btn {
    background: ButtonFace;
    color: ButtonText;
    border-color: ButtonText;
  }

  .btn:hover,
  .btn:focus {
    background: Highlight;
    color: HighlightText;
  }

  svg,
  img {
    forced-color-adjust: auto;
  }

  .hero-title,
  .section-title {
    background: none;
    -webkit-background-clip: unset;
    background-clip: unset;
    color: CanvasText;
  }
}

/* Text utilities */
.text-center {
  text-align: center;
}
.text-left {
  text-align: left;
}
.text-right {
  text-align: right;
}

.text-primary {
  color: var(--text-primary);
}
.text-secondary {
  color: var(--text-secondary);
}
.text-muted {
  color: var(--text-muted);
}
.text-accent {
  color: var(--color-accent);
}

/* Display utilities */
.hidden {
  display: none;
}
.block {
  display: block;
}
.inline-block {
  display: inline-block;
}
.flex {
  display: flex;
}
.inline-flex {
  display: inline-flex;
}

/* Flex utilities */
.items-center {
  align-items: center;
}
.items-start {
  align-items: flex-start;
}
.items-end {
  align-items: flex-end;
}
.justify-center {
  justify-content: center;
}
.justify-between {
  justify-content: space-between;
}
.flex-wrap {
  flex-wrap: wrap;
}
.flex-col {
  flex-direction: column;
}
.gap-2 {
  gap: var(--space-2);
}
.gap-4 {
  gap: var(--space-4);
}
.gap-6 {
  gap: var(--space-6);
}
.gap-8 {
  gap: var(--space-8);
}

/* ----------------------------------------
   GLASSMORPHISM UTILITIES
   ---------------------------------------- */
.glass {
  background: oklch(0.15 0.01 250 / 0.7);
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  border: 1px solid oklch(1 0 0 / 0.08);
}

.glass-card {
  background: oklch(0.18 0.01 250 / 0.6);
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
  border: 1px solid oklch(1 0 0 / 0.06);
  box-shadow:
    0 4px 24px oklch(0 0 0 / 0.3),
    inset 0 1px 0 oklch(1 0 0 / 0.05);
}

.glass-nav {
  background: oklch(0.13 0.005 250 / 0.8);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border-bottom: 1px solid oklch(1 0 0 / 0.05);
}

.glass-subtle {
  background: oklch(0.15 0.01 250 / 0.4);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}



.noise-texture {
  position: relative;
}

.noise-texture::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.03;
  pointer-events: none;
  border-radius: inherit;
}

@media print {
  @page {
    margin: 14mm;
  }

  html,
  body {
    background: #ffffff !important;
    color: #000000 !important;
  }

  #matrix-bg,
  .crt-overlay,
  .cursor,
  .cmd-cursor,
  .cli-input-line,
  #terminal-input,
  .terminal-titlebar,
  .skip-link,
  .theme-toggle,
  .nav-links,
  .back-to-top {
    display: none !important;
  }

  .terminal-window,
  .terminal-body,
  .container,
  .container-narrow,
  main {
    background: #ffffff !important;
    border: 0 !important;
    box-shadow: none !important;
    color: #000000 !important;
    max-width: 100% !important;
    padding: 0 !important;
  }

  .cli-container,
  .cli-output {
    position: static !important;
    max-height: none !important;
    overflow: visible !important;
    border: 0 !important;
    padding: 0 !important;
    color: #000000 !important;
  }

  a,
  .cmd-output,
  .section-cmd,
  .resume-description,
  .project-description,
  .about-list li,
  .status-name,
  .status-state {
    color: #000000 !important;
    text-shadow: none !important;
  }
}

@media print {
  body::before,
  body::after,
  #matrix-bg,
  .crt-overlay,
  .cli-container {
    display: none !important;
  }

  .terminal-header,
  .terminal-titlebar {
    display: none !important;
  }

  body {
    background: #fff !important;
    color: #000 !important;
    font-family: serif;
    font-size: 12pt;
    line-height: 1.5;
  }

  .container-narrow,
  .terminal-window,
  .terminal-body,
  main {
    max-width: 210mm;
    width: 100%;
    margin: 0;
    padding: 0;
    border: 0;
    box-shadow: none;
    background: transparent;
  }

  .section,
  section,
  .resume-item,
  .project-item,
  .infra-card {
    page-break-inside: avoid;
    break-inside: avoid;
  }

  a[href]::after {
    content: ' (' attr(href) ')';
    font-size: 0.9em;
  }
}
