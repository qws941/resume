<!doctype html>
<html lang="ko" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì´ì¬ì²  - Infrastructure Engineer</title>
    <meta
      name="description"
      content="ì´ì¬ì²  - ì¸í”„ë¼ ì—”ì§€ë‹ˆì–´ | ê¸ˆìœµÂ·ê³µê³µ ë¶„ì•¼ ë³´ì•ˆ ì¸í”„ë¼ ë° ê´€ì¸¡ì„± ì„¤ê³„Â·ìš´ì˜"
    />
    <meta
      name="keywords"
      content="Infrastructure, Observability, Grafana, Prometheus, Loki, Splunk, ìë™í™”, ì¸í”„ë¼, ì´ì¬ì² "
    />
    <meta name="author" content="ì´ì¬ì²  (Jaecheol Lee)" />
    <meta name="robots" content="index, follow" />
    <meta name="google-site-verification" content="2a5f8c3b7d4e9a1f6c2b5e8d1a4f7c0b9e3d6a9f2c5" />

    <!-- Google Analytics 4 -->
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-P9E8XY5K2L', {
        page_path: window.location.pathname,
        language: 'ko',
      });
      var _gs = document.createElement('script');
      _gs.src = 'https://www.googletagmanager.com/gtag/js?id=G-P9E8XY5K2L';
      _gs.async = true;
      _gs.integrity = 'sha384-ZXsMWzL9jNkfVeDNiKiKlvdyvBmUvt8YMS2PljnnNk8cVfKES+GLjaItoIy8iwNi';
      _gs.crossOrigin = 'anonymous';
      document.head.appendChild(_gs);
    </script>

    <link rel="canonical" href="https://resume.jclee.me" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://www.googletagmanager.com" />
    <link rel="preconnect" href="https://browser.sentry-cdn.com" crossorigin />
    <link rel="preconnect" href="https://static.cloudflareinsights.com" crossorigin />

    <link rel="alternate" hreflang="ko-KR" href="https://resume.jclee.me" />
    <link rel="alternate" hreflang="en-US" href="https://resume.jclee.me/en/" />
    <link rel="alternate" hreflang="x-default" href="https://resume.jclee.me" />

    <!-- Open Graph -->
    <meta property="og:type" content="profile" />
    <meta property="og:url" content="https://resume.jclee.me" />
    <meta property="og:title" content="ì´ì¬ì²  - Infrastructure Engineer" />
    <meta
      property="og:description"
      content="ì¸í”„ë¼ ì—”ì§€ë‹ˆì–´ | ê¸ˆìœµÂ·ê³µê³µ ë¶„ì•¼ ë³´ì•ˆ ì¸í”„ë¼ ë° ê´€ì¸¡ì„± ì„¤ê³„Â·ìš´ì˜"
    />
    <meta property="og:image" content="https://resume.jclee.me/og-image.webp" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:type" content="image/webp" />
    <meta property="og:image:alt" content="Jaecheol Lee - Infrastructure Engineer Portfolio" />
    <meta property="og:site_name" content="Jaecheol Lee Resume" />
    <meta property="og:locale" content="ko_KR" />
    <meta property="og:locale:alternate" content="en_US" />
    <meta property="profile:first_name" content="Jaecheol" />
    <meta property="profile:last_name" content="Lee" />
    <meta property="profile:username" content="qws941" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://resume.jclee.me" />
    <meta name="twitter:title" content="ì´ì¬ì²  - Infrastructure Engineer" />
    <meta
      name="twitter:description"
      content="ì¸í”„ë¼ ì—”ì§€ë‹ˆì–´ | ê¸ˆìœµÂ·ê³µê³µ ë¶„ì•¼ ë³´ì•ˆ ì¸í”„ë¼ ë° ê´€ì¸¡ì„± ì„¤ê³„Â·ìš´ì˜"
    />
    <meta name="twitter:image" content="https://resume.jclee.me/og-image.webp" />
    <meta name="twitter:creator" content="@qws941" />
    <meta name="twitter:site" content="@qws941" />

    <!-- JSON-LD Structured Data: Person -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Person",
        "@id": "https://resume.jclee.me/#person",
        "name": "ì´ì¬ì² ",
        "alternateName": "Jaecheol Lee",
        "jobTitle": "Infrastructure Engineer",
        "description": "8ë…„ì°¨ ì¸í”„ë¼ ì—”ì§€ë‹ˆì–´ë¡œ ê¸ˆìœµÂ·ê³µê³µ ë¶„ì•¼ì—ì„œ ë³´ì•ˆ ì¸í”„ë¼ ì„¤ê³„ì™€ ìš´ì˜ì„ ë‹´ë‹¹í–ˆìŠµë‹ˆë‹¤. Observability ì²´ê³„ êµ¬ì¶•ê³¼ ìš´ì˜ ìë™í™”ë¥¼ ìˆ˜í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
        "url": "https://resume.jclee.me",
        "email": "qws941@kakao.com",
        "telephone": "+82-10-5757-9592",
        "sameAs": ["https://github.com/qws941"],
        "knowsAbout": [
          "Kubernetes",
          "Terraform",
          "Cloudflare Workers",
          "Proxmox",
          "Observability",
          "ë³´ì•ˆ ì¸í”„ë¼",
          "ìë™í™”"
        ],
        "worksFor": {
          "@type": "Organization",
          "name": "(ì£¼)ì•„ì´í‹°ì„¼ CTS"
        }
      }
    </script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "í™ˆ",
            "item": "https://resume.jclee.me/"
          }
        ]
      }
    </script>

    <!-- JSON-LD Structured Data: WebSite -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "ì´ì¬ì²  - Infrastructure Engineer",
        "url": "https://resume.jclee.me",
        "description": "8ë…„ì°¨ ì¸í”„ë¼ ì—”ì§€ë‹ˆì–´ë¡œ ê¸ˆìœµÂ·ê³µê³µ ë¶„ì•¼ì—ì„œ ë³´ì•ˆ ì¸í”„ë¼ ì„¤ê³„ì™€ ìš´ì˜ì„ ë‹´ë‹¹í–ˆìŠµë‹ˆë‹¤. Observability ì²´ê³„ êµ¬ì¶•ê³¼ ìš´ì˜ ìë™í™”ë¥¼ ìˆ˜í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
        "inLanguage": "ko-KR"
      }
    </script>

    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#0c0c12" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="JC Lee Resume" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
    <link rel="preload" href="/assets/favicon-32x32.png" as="image" type="image/png" />

    <!-- Preload Critical Font -->
    <link
      rel="preload"
      href="/assets/fonts/inter-v13-latin-regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/assets/fonts/inter-v13-latin-700.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <style>
      @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        unicode-range:
          U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F,
          U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        src: url('/assets/fonts/inter-v13-latin-regular.woff2') format('woff2');
      }
      @font-face {
        font-family: 'Inter';
        font-style: normal;
        font-weight: 700;
        font-display: swap;
        unicode-range:
          U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F,
          U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
        src: url('/assets/fonts/inter-v13-latin-700.woff2') format('woff2');
      }
    </style>
    <!-- Image optimization N/A: no <img> elements are used; content is text/canvas/self-hosted assets. -->
    <style>
      .typing-text {
        display: inline-block;
        overflow: hidden;
        border-right: 3px solid var(--cyber-cyan);
        white-space: nowrap;
        animation:
          typing 2s steps(20) forwards,
          blink 0.7s step-end infinite;
      }
      @keyframes typing {
        from {
          width: 0;
        }
        to {
          width: 100%;
        }
      }
      @keyframes blink {
        50% {
          border-color: transparent;
        }
      }
      .terminal-prompt {
        color: var(--cyber-green, #00ff88);
        font-family: 'JetBrains Mono', monospace;
        margin-right: 0.5rem;
      }
      .hero--terminal {
        text-align: left;
      }
    </style>

    <style>
      /* CSS_PLACEHOLDER */
    </style>
  </head>
  <body class="minimal-theme">
    <canvas id="matrix-bg"></canvas>
    <div class="crt-overlay"></div>
    <a href="#terminal-input" class="skip-link">í„°ë¯¸ë„ë¡œ ê±´ë„ˆë›°ê¸°</a>

    <div class="container-narrow">
      <div class="terminal-window" role="application" aria-label="Cyberpunk terminal portfolio">
        <div class="terminal-titlebar">
          <div class="terminal-buttons">
            <span class="terminal-btn terminal-btn--close"></span>
            <span class="terminal-btn terminal-btn--minimize"></span>
            <span class="terminal-btn terminal-btn--maximize"></span>
          </div>
          <span class="terminal-title">jclee@resume:~</span>
          <div style="width: 52px"></div>
        </div>
        <div class="terminal-body">
          <header class="site-header">
            <nav class="minimal-nav" role="navigation" aria-label="Main navigation">
              <a href="/" class="nav-logo" aria-label="Homepage">~/jclee</a>
              <div class="nav-links">
                <a href="#about" class="nav-link" data-i18n-aria="nav.about">about</a>
                <a href="#resume" class="nav-link" data-i18n-aria="nav.experience">exp</a>
                <a href="#projects" class="nav-link" data-i18n-aria="nav.projects">projects</a>
                <a href="#contact" class="nav-link" data-i18n-aria="nav.contact">contact</a>
              </div>
              <button class="theme-toggle" aria-pressed="false" aria-label="Toggle theme">
                <svg
                  aria-hidden="true"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    d="M12 3a9 9 0 109 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 01-4.4 2.26 5.403 5.403 0 01-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"
                  />
                </svg>
                <span class="sr-only">Toggle between light and dark mode</span>
              </button>
            </nav>
          </header>

          <main id="main-content" role="main">
            <section id="hero" class="section-hero hero--terminal">
              <div class="hero-content">
                <div class="cmd-line">
                  <span class="cmd-user">jclee</span><span class="cmd-separator">@</span
                  ><span class="cmd-path">resume</span><span class="cmd-symbol">$</span>
                  <span class="cmd-input">whoami</span>
                </div>
                <h1 class="hero-title glitch" data-text="ì´ì¬ì² " aria-label="ì´ì¬ì² ">
                  <span class="typing-text glow-cyan">ì´ì¬ì² </span><span class="cursor"></span>
                </h1>
                <div class="cmd-output">ë³´ì•ˆ ì¸í”„ë¼ Â· Observability Â· ìë™í™”</div>
              </div>
            </section>

            <section
              id="about"
              class="section-about reveal"
              role="region"
              aria-labelledby="about-heading"
            >
              <h2 id="about-heading" class="sr-only">ì†Œê°œ</h2>
              <div class="section-cmd">
                <span class="section-cmd__command">cat about.txt</span>
              </div>
              <div class="about-content">
                <div class="about-block">
                  <span class="about-label">&gt; career_highlights</span>
                  <ul class="cmd-output about-list">
                    <li>ê¸ˆìœµÂ·ê³µê³µ ë³´ì•ˆ ì¸í”„ë¼ 8ë…„ ê²½ë ¥</li>
                    <li>Splunk/ELK/Grafana ê¸°ë°˜ í†µí•© ê´€ì¸¡ í”Œë«í¼ êµ¬ì¶•</li>
                    <li>FortiGate/FortiAnalyzer API ìë™í™” ì²´ê³„ ì„¤ê³„</li>
                    <li>n8n ì›Œí¬í”Œë¡œìš° ê¸°ë°˜ ë³´ì•ˆ ìš´ì˜ ìë™í™”</li>
                  </ul>
                </div>
                <div class="about-block">
                  <span class="about-label">&gt; tech_philosophy</span>
                  <ul class="cmd-output about-list">
                    <li>"ê´€ì¸¡ ê°€ëŠ¥í•˜ì§€ ì•Šìœ¼ë©´, ìš´ì˜í•  ìˆ˜ ì—†ë‹¤"</li>
                    <li>ìˆ˜ì‘ì—… ë°˜ë³µ â†’ ìë™í™” íŒŒì´í”„ë¼ì¸ ì „í™˜</li>
                    <li>Infrastructure as Code, ì„ ì–¸ì  êµ¬ì„± ì§€í–¥</li>
                  </ul>
                </div>
                <div class="about-block">
                  <span class="about-label">&gt; current_focus</span>
                  <ul class="cmd-output about-list">
                    <li>ITCEN CTS ë³´ì•ˆê´€ì œíŒ€</li>
                    <li>í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ê´€ì¸¡ì„± í™•ì¥</li>
                    <li>AI/MCP ê¸°ë°˜ ë³´ì•ˆ ìë™í™” ì—°êµ¬</li>
                  </ul>
                </div>
              </div>
            </section>

            <section
              id="status"
              class="section-status reveal"
              role="region"
              aria-labelledby="status-heading"
            >
              <h2 id="status-heading" class="sr-only">ìƒíƒœ</h2>
              <div class="section-cmd">
                <span class="section-cmd__command">systemctl status services</span>
              </div>
              <div class="status-content">
                <div class="status-header">
                  <span class="status-indicator status-loading"></span>
                  <span class="status-title">Service Status</span>
                </div>
                <ul class="status-list" id="status-list">
                  <li class="status-item" data-url="https://resume.jclee.me">
                    <span class="status-dot"></span>
                    <span class="status-name">â˜ï¸ Cloudflare Workers</span>
                    <span class="status-state">checking...</span>
                  </li>
                  <li class="status-item online" data-static="true">
                    <span class="status-dot"></span>
                    <span class="status-name">ğŸ“Š Grafana + Prometheus + Loki</span>
                    <span class="status-state">running</span>
                  </li>
                  <li class="status-item online" data-static="true">
                    <span class="status-dot"></span>
                    <span class="status-name">ğŸ–¥ï¸ Proxmox VE</span>
                    <span class="status-state">running</span>
                  </li>
                  <li class="status-item online" data-static="true">
                    <span class="status-dot"></span>
                    <span class="status-name">ğŸ” ELK Stack</span>
                    <span class="status-state">running</span>
                  </li>
                  <li class="status-item online" data-static="true">
                    <span class="status-dot"></span>
                    <span class="status-name">ğŸ”„ n8n Automation</span>
                    <span class="status-state">running</span>
                  </li>
                  <li class="status-item online" data-static="true">
                    <span class="status-dot"></span>
                    <span class="status-name">ğŸ”€ Traefik Proxy</span>
                    <span class="status-state">running</span>
                  </li>
                  <li class="status-item online" data-static="true">
                    <span class="status-dot"></span>
                    <span class="status-name">ğŸ—„ï¸ Supabase</span>
                    <span class="status-state">running</span>
                  </li>
                  <li class="status-item online" data-static="true">
                    <span class="status-dot"></span>
                    <span class="status-name">ğŸ’¾ MinIO Object Storage</span>
                    <span class="status-state">running</span>
                  </li>
                  <li class="status-item online" data-static="true">
                    <span class="status-dot"></span>
                    <span class="status-name">ğŸ¤– MCP Server</span>
                    <span class="status-state">running</span>
                  </li>
                  <li class="status-item online" data-static="true">
                    <span class="status-dot"></span>
                    <span class="status-name">ğŸ—ï¸ Terraform IaC</span>
                    <span class="status-state">running</span>
                  </li>
                  <li class="status-item online" data-static="true">
                    <span class="status-dot"></span>
                    <span class="status-name">âš¡ GitHub Actions</span>
                    <span class="status-state">running</span>
                  </li>
                </ul>
              </div>
            </section>

            <section
              id="resume"
              class="section-resume reveal"
              role="region"
              aria-labelledby="resume-heading"
            >
              <h2 id="resume-heading" class="sr-only">Work Experience</h2>
              <div class="section-cmd">
                <span class="section-cmd__command">cat experience.log</span>
              </div>
              <ul class="resume-list">
                <!-- RESUME_CARDS_PLACEHOLDER -->
              </ul>
              <div class="hero-download" role="group" aria-label="Resume download options">
                <a
                  href="<!-- RESUME_PDF_URL -->"
                  class="link-subtle"
                  download
                  aria-label="View Full Resume as PDF (opens in new tab)"
                  >View Full Resume (PDF)</a
                >
              </div>
            </section>

            <section
              id="projects"
              class="section-projects reveal"
              role="region"
              aria-labelledby="projects-heading"
            >
              <h2 id="projects-heading" class="sr-only">Projects</h2>
              <div class="section-cmd">
                <span class="section-cmd__command">ls -la ~/projects/</span>
              </div>
              <ul class="project-list">
                <!-- PROJECT_CARDS_PLACEHOLDER -->
              </ul>
            </section>

            <section
              id="skills"
              class="section-skills reveal"
              role="region"
              aria-labelledby="skills-heading"
            >
              <h2 id="skills-heading" class="sr-only">ê¸°ìˆ </h2>
              <div class="section-cmd">
                <span class="section-cmd__command">cat skills.json</span>
              </div>
              <ul class="skill-list-minimal">
                <!-- SKILLS_LIST_PLACEHOLDER -->
              </ul>
            </section>

            <section
              id="infrastructure"
              class="section-infrastructure reveal"
              role="region"
              aria-labelledby="infrastructure-heading"
            >
              <h2 id="infrastructure-heading" class="sr-only">ì¸í”„ë¼</h2>
              <div class="section-cmd">
                <span class="section-cmd__command"
                  >docker ps --format "table
                  &#123;&#123;.Names&#125;&#125;\t&#123;&#123;.Status&#125;&#125;"</span
                >
              </div>
              <ul class="infra-grid">
                <!-- INFRASTRUCTURE_CARDS_PLACEHOLDER -->
              </ul>
            </section>

            <section
              id="contact"
              class="section-contact reveal"
              role="region"
              aria-labelledby="contact-heading"
            >
              <h2 id="contact-heading" class="sr-only">Contact</h2>
              <div class="section-cmd">
                <span class="section-cmd__command">cat contact.txt</span>
              </div>
              <div class="contact-grid" role="list">
                <!-- CONTACT_GRID_PLACEHOLDER -->
              </div>
            </section>
          </main>

          <footer class="site-footer" role="contentinfo">
            <div class="footer-content">
              <span class="terminal-prompt" style="font-size: var(--text-sm)">logout</span>
              <span style="color: var(--text-muted); margin-left: 1rem">Connection closed.</span>
            </div>
          </footer>

          <div id="cli-container" class="cli-container">
            <div id="cli-output" class="cli-output" aria-live="polite"></div>
            <div class="cli-input-line">
              <span class="cli-prompt">jclee@resume:~$ </span>
              <input
                type="text"
                id="terminal-input"
                class="cli-input"
                autocomplete="off"
                spellcheck="false"
                placeholder="type 'help' for commands..."
                aria-label="Terminal command input"
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script>
      (function () {
        var s = document.createElement('script');
        s.src = '/main.js';
        s.defer = true;
        document.body.appendChild(s);
      })();
    </script>
    <script>
      (function () {
        var c = document.getElementById('matrix-bg');
        if (!c) return;
        var ctx = c.getContext('2d');
        var w,
          h,
          cols,
          drops = [];
        var chars =
          'ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ²ãƒ³0123456789ABCDEF';

        function resize() {
          w = c.width = window.innerWidth;
          h = c.height = window.innerHeight;
          cols = Math.floor(w / 20);
          drops = [];
          for (let i = 0; i < cols; i++) drops[i] = Math.random() * -100;
        }

        function draw() {
          ctx.fillStyle = 'rgba(12, 12, 18, 0.05)';
          ctx.fillRect(0, 0, w, h);
          ctx.fillStyle = '#00ff88';
          ctx.font = '15px monospace';
          for (let i = 0; i < cols; i++) {
            const char = chars[Math.floor(Math.random() * chars.length)];
            ctx.fillText(char, i * 20, drops[i] * 20);
            if (drops[i] * 20 > h && Math.random() > 0.975) drops[i] = 0;
            drops[i]++;
          }
        }

        resize();
        window.addEventListener('resize', resize);
        // Use requestAnimationFrame for better performance
        var lastTime = 0;
        var fps = 20;
        var interval = 1000 / fps;
        function animate(currentTime) {
          requestAnimationFrame(animate);
          var delta = currentTime - lastTime;
          if (delta >= interval) {
            lastTime = currentTime - (delta % interval);
            draw();
          }
        }
        requestAnimationFrame(animate);
      })();


      (function () {
        document.querySelectorAll('.nav-link').forEach(function (link) {
          link.addEventListener('click', function () {
            if (typeof gtag === 'function') {
              gtag('event', 'navigation_click', {
                section: link.getAttribute('href').replace('#', ''),
                event_category: 'engagement',
              });
            }
          });
        });
      })();

      (function () {
        var tracked = {};
        var obs = new IntersectionObserver(
          function (entries) {
            entries.forEach(function (e) {
              if (e.isIntersecting) {
                e.target.classList.add('revealed');
                const id = e.target.id || e.target.getAttribute('data-section');
                if (id && !tracked[id]) {
                  tracked[id] = true;
                  if (typeof gtag === 'function') {
                    gtag('event', 'section_view', {
                      section: id,
                      event_category: 'engagement',
                    });
                  }
                }
              }
            });
          },
          { threshold: 0.1 }
        );
        document.querySelectorAll('.reveal').forEach(function (el) {
          obs.observe(el);
        });
      })();

      // ========================================
      // PHASE 1: Easter Eggs & Interactive Features
      // ========================================

      // Konami Code Easter Egg
      (function () {
        var konamiCode = [
          'ArrowUp',
          'ArrowUp',
          'ArrowDown',
          'ArrowDown',
          'ArrowLeft',
          'ArrowRight',
          'ArrowLeft',
          'ArrowRight',
          'KeyB',
          'KeyA',
        ];
        var konamiIndex = 0;

        document.addEventListener('keydown', function (e) {
          if (e.code === konamiCode[konamiIndex]) {
            konamiIndex++;
            if (konamiIndex === konamiCode.length) {
              activateHackMode();
              konamiIndex = 0;
            }
          } else {
            konamiIndex = 0;
          }
        });

        function activateHackMode() {
          var overlay = document.createElement('div');
          overlay.id = 'hack-mode-overlay';
          overlay.innerHTML =
            '<div class="hack-text">HACK MODE ACTIVATED</div><div class="hack-sub">// root access granted</div>';
          overlay.style.cssText =
            'position:fixed;inset:0;background:rgba(0,255,136,0.1);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:9999;animation:hackFlash 0.1s ease-in-out 5;';
          document.body.appendChild(overlay);

          var style = document.createElement('style');
          style.textContent =
            '@keyframes hackFlash{0%,100%{opacity:1}50%{opacity:0.5}}.hack-text{font-size:3rem;font-family:monospace;color:#00ff88;text-shadow:0 0 20px #00ff88;animation:glitchText 0.3s infinite}.hack-sub{color:#0ff;font-family:monospace;margin-top:1rem}@keyframes glitchText{0%{transform:translate(0)}20%{transform:translate(-2px,2px)}40%{transform:translate(2px,-2px)}60%{transform:translate(-2px,-2px)}80%{transform:translate(2px,2px)}100%{transform:translate(0)}}';
          document.head.appendChild(style);

          setTimeout(function () {
            overlay.remove();
            style.remove();
          }, 3000);
        }
      })();

      // Interactive Terminal Commands (preparation for Phase 2)
      window.__RESUME_CHAT_DATA__ = (function () {
        try {
          return JSON.parse(atob(/* RESUME_CHAT_DATA_B64_PLACEHOLDER */ ''));
        } catch (resumeDataError) {
          if (typeof console !== 'undefined' && console.warn) {
            console.warn('Failed to parse embedded resume chat data', resumeDataError);
          }
          return {};
        }
      })();

      function escapeHtml(value) {
        return String(value || '')
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;')
          .replace(/"/g, '&quot;')
          .replace(/'/g, '&#39;');
      }

      function sanitize(value) {
        return escapeHtml(value);
      }

      function sanitizeCommandInput(value) {
        return String(value || '').slice(0, 500);
      }

      function sanitizeInput(str) {
        const div = document.createElement('div');
        div.textContent = str;
        return div.innerHTML;
      }

      function normalizeText(value) {
        return String(value || '')
          .toLowerCase()
          .replace(/[^a-z0-9ê°€-í£\s]/g, ' ')
          .replace(/\s+/g, ' ')
          .trim();
      }

      function toList(value) {
        return Array.isArray(value) ? value : [];
      }

      function getSkillItems(skills) {
        if (!skills || typeof skills !== 'object') return [];
        return Object.values(skills).flatMap(function (category) {
          return toList(category && category.items).map(function (item) {
            return {
              name: item.name,
              level: item.level,
              category: category.title,
            };
          });
        });
      }

      function findChatIntent(question) {
        var q = normalizeText(question);
        var intents = [
          {
            name: 'contact',
            keywords: ['contact', 'email', 'phone', 'github', 'ì—°ë½', 'ì´ë©”ì¼', 'ì „í™”'],
          },
          {
            name: 'skills',
            keywords: ['skill', 'stack', 'tech', 'ê¸°ìˆ ', 'ìŠ¤í‚¬', 'ì—­ëŸ‰', 'tool'],
          },
          {
            name: 'projects',
            keywords: ['project', 'portfolio', 'ì‚¬ì´ë“œ', 'í”„ë¡œì íŠ¸'],
          },
          {
            name: 'certifications',
            keywords: ['certificate', 'cert', 'ìê²©ì¦', 'ì¸ì¦'],
          },
          {
            name: 'experience',
            keywords: ['experience', 'career', 'work', 'ê²½ë ¥', 'ê²½í—˜', 'íšŒì‚¬', 'ì—…ë¬´'],
          },
        ];

        var best = { name: 'experience', score: 0 };
        intents.forEach(function (intent) {
          var score = intent.keywords.reduce(function (acc, keyword) {
            return acc + (q.indexOf(keyword) !== -1 ? 1 : 0);
          }, 0);
          if (score > best.score) {
            best = { name: intent.name, score: score };
          }
        });

        return best.score > 0 ? best.name : 'fallback';
      }

      function buildLocalChatResponse(question) {
        var data = window.__RESUME_CHAT_DATA__ || {};
        var intent = findChatIntent(question);
        var experiences = toList(data.resume);
        var projects = toList(data.projects);
        var certifications = toList(data.certifications);
        var skills = getSkillItems(data.skills);
        var contact = data.contact || {};

        if (intent === 'experience' && experiences.length > 0) {
          const topExperience = experiences.slice(0, 3).map(function (item) {
            return item.title + ' (' + item.period + ')';
          });
          return (
            'Top experience:\n- ' +
            escapeHtml(topExperience.join('\n- ')) +
            '\n\nCurrent focus: ' +
            escapeHtml(
              (data.hero && data.hero.subtitle) || 'Security infrastructure and observability'
            )
          );
        }

        if (intent === 'skills' && skills.length > 0) {
          const topSkills = skills
            .slice(0, 10)
            .map(function (item) {
              return item.name + (item.level ? ' (' + item.level + ')' : '');
            })
            .join(', ');
          return 'Key skills: ' + escapeHtml(topSkills);
        }

        if (intent === 'projects' && projects.length > 0) {
          const topProjects = projects.slice(0, 3).map(function (item) {
            return item.title + ': ' + item.description;
          });
          return 'Featured projects:\n- ' + escapeHtml(topProjects.join('\n- '));
        }

        if (intent === 'certifications' && certifications.length > 0) {
          const activeCerts = certifications
            .filter(function (cert) {
              return cert.status === 'active';
            })
            .map(function (cert) {
              return cert.name;
            });
          const certLine = activeCerts.length > 0 ? activeCerts.join(', ') : certifications[0].name;
          return 'Certifications: ' + escapeHtml(certLine);
        }

        if (intent === 'contact' && contact.email) {
          return (
            'Contact info:\n' +
            'Email: ' +
            escapeHtml(contact.email) +
            '\nPhone: ' +
            escapeHtml(contact.phone || 'N/A') +
            '\nGitHub: ' +
            escapeHtml(contact.github || 'N/A')
          );
        }

        return 'I can tell you about my experience, skills, projects, certifications, or contact info';
      }

      window.terminalCommands = {
        neofetch: function () {
          return (
            '<pre class="neofetch-output">' +
            '<span class="nf-logo">       â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—\\n' +
            '       â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•\\n' +
            '       â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  \\n' +
            '  â–ˆâ–ˆ   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â•  \\n' +
            '  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—\\n' +
            '   â•šâ•â•â•â•â•  â•šâ•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•</span>\\n' +
            '  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\\n' +
            '  <span class="nf-label">Role:</span> Infrastructure Engineer\\n' +
            '  <span class="nf-label">Focus:</span> Security Â· Observability Â· Automation\\n' +
            '  <span class="nf-label">Domain:</span> Finance Â· Public Sector\\n' +
            '  <span class="nf-label">Stack:</span> K8s Â· Terraform Â· Prometheus Â· ELK\\n' +
            '  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\\n' +
            '  <span class="nf-colors">â–ˆâ–ˆâ–ˆ</span><span class="nf-colors c2">â–ˆâ–ˆâ–ˆ</span><span class="nf-colors c3">â–ˆâ–ˆâ–ˆ</span><span class="nf-colors c4">â–ˆâ–ˆâ–ˆ</span><span class="nf-colors c5">â–ˆâ–ˆâ–ˆ</span><span class="nf-colors c6">â–ˆâ–ˆâ–ˆ</span><span class="nf-colors c7">â–ˆâ–ˆâ–ˆ</span>\\n' +
            '</pre>'
          );
        },

        'sudo hire-me': function () {
          return (
            '<div class="sudo-output">' +
            '<div>[sudo] password for recruiter: ********</div>' +
            '<div class="sudo-success">âœ“ Access granted</div>' +
            '<div class="sudo-msg">â†’ Resume downloading...</div>' +
            '<div class="sudo-msg">â†’ Contact: qws941@kakao.com</div>' +
            '<div class="sudo-msg">â†’ Ready for new challenges!</div>' +
            '</div>'
          );
        },

        'rm -rf doubt': function () {
          return (
            '<div class="rm-output">' +
            "rm: removing 'doubt/impostor-syndrome'...<br>" +
            "rm: removing 'doubt/fear-of-failure'...<br>" +
            "rm: removing 'doubt/perfectionism'...<br>" +
            '<span class="rm-success">âœ“ All doubts successfully removed.</span><br>' +
            '<span class="rm-hint">// Confidence level: 100%</span>' +
            '</div>'
          );
        },

        coffee: function () {
          return (
            '<pre class="coffee-art">' +
            '        ( (\n' +
            '         ) )\n' +
            '      ........\n' +
            '      |      |]\n' +
            '      \\      /\n' +
            "       `----'\n" +
            '  <span class="coffee-msg">Brewing productivity...</span>\n' +
            '</pre>'
          );
        },

        matrix: function () {
          // Intensify matrix rain
          var canvas = document.getElementById('matrix-bg');
          if (canvas) {
            canvas.style.opacity = '1';
            setTimeout(function () {
              canvas.style.opacity = '';
            }, 5000);
          }
          return '<span class="matrix-msg">// Matrix rain intensified for 5 seconds</span>';
        },

        chat: async function (question) {
          var userQuestion = sanitizeCommandInput(question).trim();
          if (!userQuestion) {
            return (
              'Chat mode enabled. Ask resume-related questions and press Enter.\n' +
              'Type "exit" to leave chat mode.\n' +
              'Example: tell me about your security experience'
            );
          }

          try {
            const response = await fetch('/api/chat', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ question: userQuestion }),
            });

            if (response.ok) {
              const payload = await response.json();
              if (payload && payload.answer) {
                return escapeHtml(payload.answer);
              }
            }
          } catch (chatError) {
            if (typeof gtag === 'function') {
              gtag('event', 'chat_api_error', {
                event_category: 'error',
                error_message: String(
                  chatError && chatError.message ? chatError.message : chatError
                ),
              });
            }
          }

          return buildLocalChatResponse(userQuestion);
        },

        ai: async function (question) {
          return window.terminalCommands.chat(question);
        },

        help: function () {
          return (
            '<div class="help-output">' +
            'Available commands:\\n' +
            '  <span class="cmd-name">about</span>      - Show profile summary\\n' +
            '  <span class="cmd-name">resume</span>     - View career experience\\n' +
            '  <span class="cmd-name">projects</span>   - List side projects\\n' +
            '  <span class="cmd-name">social</span>     - Show social links\\n' +
            '  <span class="cmd-name">download</span>   - Download resume PDF\\n' +
            '  <span class="cmd-name">history</span>    - Show command history\\n' +
            '  <span class="cmd-name">print</span>      - Open print dialog\\n' +
            '  <span class="cmd-name">skills</span>     - Show tech stack\\n' +
            '  <span class="cmd-name">chat</span>       - Enter interactive resume chat mode\\n' +
            '  <span class="cmd-name">ai</span>         - Alias for chat command\\n' +
            '  <span class="cmd-name">contact</span>    - Contact information\\n' +
            '  <span class="cmd-name">theme</span>      - Switch terminal theme\\n' +
            '  <span class="cmd-name">clear</span>      - Clear terminal' +
            '</div>'
          );
        },

        theme: function (arg) {
          var root = document.documentElement;
          var themes = {
            dark: { bg: '#0c0c12', text: '#00ff88', accent: '#0ff' },
            light: { bg: '#f0f0f0', text: '#006644', accent: '#0088cc' },
            hacker: { bg: '#000', text: '#0f0', accent: '#0f0' },
          };
          var name = arg || 'hacker';
          var t = themes[name];
          if (!t) return 'Unknown theme. Available: dark, light, hacker';
          root.style.setProperty('--bg-base', t.bg);
          root.style.setProperty('--cyber-green', t.text);
          root.style.setProperty('--cyber-cyan', t.accent);
          return 'Theme switched to ' + name;
        },

        snake: function () {
          if (document.getElementById('snake-game')) return 'Snake is already running!';
          var gameDiv = document.createElement('div');
          gameDiv.id = 'snake-game';
          gameDiv.innerHTML =
            '<canvas id="snake-canvas" width="200" height="200"></canvas><div style="color:#0f0;font-size:12px;margin-top:5px">Score: <span id="snake-score">0</span> | WASD to move | Q to quit</div>';
          gameDiv.style.cssText =
            'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#000;border:2px solid #0f0;padding:10px;z-index:9999;font-family:monospace';
          document.body.appendChild(gameDiv);

          var canvas = document.getElementById('snake-canvas');
          var ctx = canvas.getContext('2d');
          var size = 10;
          var snake = [{ x: 100, y: 100 }];
          var food = { x: 50, y: 50 };
          var dir = { x: size, y: 0 };
          var score = 0;
          var gameLoop;

          function draw() {
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, 200, 200);
            ctx.fillStyle = '#0f0';
            snake.forEach(function (s) {
              ctx.fillRect(s.x, s.y, size - 1, size - 1);
            });
            ctx.fillStyle = '#f00';
            ctx.fillRect(food.x, food.y, size - 1, size - 1);
          }

          function update() {
            const head = { x: snake[0].x + dir.x, y: snake[0].y + dir.y };
            if (head.x < 0 || head.x >= 200 || head.y < 0 || head.y >= 200) return endGame();
            for (let i = 0; i < snake.length; i++) {
              if (snake[i].x === head.x && snake[i].y === head.y) return endGame();
            }
            snake.unshift(head);
            if (head.x === food.x && head.y === food.y) {
              score++;
              document.getElementById('snake-score').textContent = score;
              food = {
                x: Math.floor(Math.random() * 20) * size,
                y: Math.floor(Math.random() * 20) * size,
              };
            } else {
              snake.pop();
            }
            draw();
          }

          function endGame() {
            clearInterval(gameLoop);
            document.removeEventListener('keydown', handleKey);
            ctx.fillStyle = '#0f0';
            ctx.font = '14px monospace';
            ctx.fillText('GAME OVER', 60, 100);
            ctx.fillText('Score: ' + score, 70, 120);
            setTimeout(function () {
              gameDiv.remove();
            }, 2000);
          }

          function handleKey(e) {
            if (e.key === 'q' || e.key === 'Q') {
              clearInterval(gameLoop);
              gameDiv.remove();
              document.removeEventListener('keydown', handleKey);
              return;
            }
            var dirs = {
              ArrowUp: [0, -1],
              ArrowDown: [0, 1],
              ArrowLeft: [-1, 0],
              ArrowRight: [1, 0],
              w: [0, -1],
              s: [0, 1],
              a: [-1, 0],
              d: [1, 0],
            };
            var d = dirs[e.key];
            if (d && !(dir.x === -d[0] * size && dir.y === -d[1] * size)) {
              dir = { x: d[0] * size, y: d[1] * size };
            }
          }

          document.addEventListener('keydown', handleKey);
          gameLoop = setInterval(update, 150);
          draw();
          return 'Snake game started! WASD/Arrows to move, Q to quit.';
        },
      };

      // Add CSS for terminal command outputs
      (function () {
        var cmdStyle = document.createElement('style');
        cmdStyle.textContent =
          '.neofetch-output{color:#00ff88;line-height:1.3}.nf-logo{color:#0ff}.nf-label{color:#ff0088}.nf-colors{color:#f00}.nf-colors.c2{color:#ff0}.nf-colors.c3{color:#0f0}.nf-colors.c4{color:#0ff}.nf-colors.c5{color:#00f}.nf-colors.c6{color:#f0f}.nf-colors.c7{color:#fff}.sudo-output{color:#00ff88}.sudo-success{color:#0f0;font-weight:bold;margin:0.5rem 0}.sudo-msg{color:#0ff;margin-left:1rem}.rm-output{color:#ff8800}.rm-success{color:#00ff88;font-weight:bold}.rm-hint{color:#666}.coffee-art{color:#c4a000}.coffee-msg{color:#00ff88}.matrix-msg{color:#00ff88}.help-output{white-space:pre-wrap}.cmd-name{color:#0ff}.help-hint{color:#666}.cli-container{position:fixed;bottom:0;left:0;right:0;background:rgba(12,12,18,0.95);border-top:1px solid #00ff88;padding:1rem;font-family:monospace;z-index:1000;max-height:40vh;overflow-y:auto}.cli-output{margin-bottom:0.5rem;color:#00ff88;font-size:0.9rem;max-height:30vh;overflow-y:auto}.cli-input-line{display:flex;align-items:center}.cli-prompt{color:#00ff88;margin-right:0.5rem;flex-shrink:0}.cli-input{flex:1;background:transparent;border:none;color:#0ff;font-family:monospace;font-size:1rem;outline:none;caret-color:#0ff}.cli-input::placeholder{color:#444}.cli-entry{margin-bottom:0.5rem}.cli-cmd{color:#0ff}.cli-result{margin-left:1rem;white-space:pre-wrap}';
        document.head.appendChild(cmdStyle);
      })();

      (function () {
        var cliInput = document.getElementById('terminal-input');
        var cliOutput = document.getElementById('cli-output');
        var commandHistory = [];
        var historyIndex = -1;
        var isInteractiveChatMode = false;

        if (!cliInput || !cliOutput) return;

        function clearCliOutput() {
          while (cliOutput.firstChild) {
            cliOutput.removeChild(cliOutput.firstChild);
          }
        }

        window.terminalCommands.clear = function () {
          clearCliOutput();
          return '';
        };

        function isWhitelistedCommandName(input) {
          var raw = sanitizeCommandInput(input).trim();
          if (!raw) return false;
          var parts = raw.split(/\s+/);
          var command = parts[0] || '';
          var whitelist = new Set(Object.keys(window.terminalCommands));
          return whitelist.has(raw) || whitelist.has(command);
        }

        window.terminalCommands.whoami = function () {
          return 'jclee - Infrastructure Engineer';
        };

        window.terminalCommands.pwd = function () {
          return '/home/jclee/resume';
        };

        window.terminalCommands.date = function () {
          return new Date().toString();
        };

        window.terminalCommands.ls = function () {
          return 'about.txt  experience.log  projects/  skills.json  contact.txt';
        };

        window.terminalCommands.cat = function (args) {
          var files = {
            'about.txt':
              'ë³´ì•ˆ ì¸í”„ë¼ / ê´€ì¸¡ì„± / ìë™í™”\\nê¸ˆìœµÂ·ê³µê³µ ì¤‘ì‹¬ 8ë…„ì°¨, ì„¤ê³„-ìš´ì˜-ê°œì„ \\nITCEN CTS (í˜„ì¬)',
            'contact.txt': 'Email: qws941@kakao.com\\nGitHub: github.com/qws941',
            'skills.json':
              '{\\n  "observability": ["Grafana", "Prometheus", "Loki", "Splunk"],\\n  "devops": ["GitLab CI/CD", "Ansible", "Terraform"]\\n}',
          };
          if (!args) return 'cat: missing file operand';
          return files[args] || 'cat: ' + args + ': No such file or directory';
        };

        terminalCommands['about'] = function () {
          document.getElementById('about').scrollIntoView({ behavior: 'smooth' });
          return '> ë³´ì•ˆ ì¸í”„ë¼ / ê´€ì¸¡ì„± / ìë™í™” ì „ë¬¸\\n> ê¸ˆìœµÂ·ê³µê³µ ì¤‘ì‹¬ 8ë…„ì°¨ ì—”ì§€ë‹ˆì–´\\n> Scrolling to #about...';
        };

        terminalCommands['resume'] = function () {
          document.getElementById('resume').scrollIntoView({ behavior: 'smooth' });
          return '> Work Experience loaded.\\n> 7 positions found.\\n> Scrolling to #resume...';
        };

        terminalCommands['projects'] = function () {
          document.getElementById('projects').scrollIntoView({ behavior: 'smooth' });
          var projects = toList((window.__RESUME_CHAT_DATA__ || {}).projects);
          if (!projects.length) {
            return '> No project entries found.\\n> Scrolling to #projects...';
          }
          var projectLines = projects.slice(0, 6).map(function (project) {
            return '- ' + (project.title || project.name || 'Untitled project');
          });
          return (
            '> Personal projects:\\n' + projectLines.join('\\n') + '\\n> Scrolling to #projects...'
          );
        };

        terminalCommands['social'] = function () {
          var contact = (window.__RESUME_CHAT_DATA__ || {}).contact || {};
          var links = [];
          if (contact.github) links.push('GitHub: ' + contact.github);
          if (contact.linkedin) links.push('LinkedIn: ' + contact.linkedin);
          if (contact.website) links.push('Website: ' + contact.website);
          if (!links.length) {
            links.push('GitHub: https://github.com/qws941');
            links.push('LinkedIn: N/A');
          }
          return '> Social links:\\n' + links.join('\\n');
        };

        terminalCommands['download'] = function () {
          var pdfLink = document.querySelector(
            '.hero-download a[download], .resume-download a[download]'
          );
          var url = pdfLink && pdfLink.getAttribute('href');
          if (!url || url.indexOf('<!--') !== -1) {
            return '> Resume PDF URL is not available yet.';
          }
          window.open(url, '_blank', 'noopener,noreferrer');
          return '> Opening resume PDF in a new tab...';
        };

        terminalCommands['print'] = function () {
          window.print();
          return '> Print dialog opened.';
        };

        terminalCommands['history'] = function () {
          if (!commandHistory.length) {
            return '> No command history yet.';
          }
          var start = Math.max(commandHistory.length - 20, 0);
          var recent = commandHistory.slice(start);
          return recent
            .map(function (item, idx) {
              return String(start + idx + 1).padStart(2, '0') + '  ' + item;
            })
            .join('\\n');
        };

        terminalCommands['skills'] = function () {
          document.getElementById('skills').scrollIntoView({ behavior: 'smooth' });
          return '> Skill matrix loaded.\\n> 8 categories analyzed.\\n> Scrolling to #skills...';
        };

        terminalCommands['contact'] = function () {
          document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
          return '> Contact channels:\\n> GitHub: qws941 | Email: qws941@kakao.com\\n> Scrolling to #contact...';
        };

        async function executeCommand(cmd) {
          var lowered;
          var chatResult;
          cmd = sanitizeCommandInput(cmd).trim();
          if (!cmd) return '';

          if (isInteractiveChatMode) {
            lowered = cmd.toLowerCase();
            if (lowered === 'exit' || lowered === 'quit') {
              isInteractiveChatMode = false;
              cliInput.placeholder = "type 'help' for commands...";
              return 'Chat mode disabled. Back to terminal commands.';
            }

            chatResult = await window.terminalCommands.chat(cmd);
            return '[chat] ' + chatResult;
          }

          var parts = cmd.split(/\s+/);
          var command = parts[0];
          var args = parts.slice(1).join(' ');

          if (!isWhitelistedCommandName(cmd)) {
            return (
              'command not allowed: ' + sanitize(command) + '. Type "help" for available commands.'
            );
          }

          var result;
          var found = false;
          if (window.terminalCommands[cmd]) {
            result = await window.terminalCommands[cmd]();
            found = true;
          } else if (window.terminalCommands[command]) {
            result = await window.terminalCommands[command](args);
            found = true;
            if ((command === 'chat' || command === 'ai') && !args.trim()) {
              isInteractiveChatMode = true;
              cliInput.placeholder = 'chat mode: ask resume questions, type "exit" to quit';
            }
          } else {
            result = 'command not found: ' + command + '. Type "help" for available commands.';
          }

          if (typeof gtag === 'function') {
            gtag('event', 'terminal_command', {
              command_name: command,
              command_found: found,
              event_category: 'engagement',
            });
          }

          return result;
        }

        function addOutput(cmd, result) {
          var entry = document.createElement('div');
          var resultNode;
          entry.className = 'cli-entry';

          var cmdNode = document.createElement('div');
          cmdNode.className = 'cli-cmd';
          cmdNode.innerHTML = 'jclee@resume:~$ ' + sanitizeInput(sanitizeCommandInput(cmd));
          entry.appendChild(cmdNode);

          if (result) {
            resultNode = document.createElement('div');
            resultNode.className = 'cli-result';
            resultNode.textContent = sanitize(result);
            entry.appendChild(resultNode);
          }

          cliOutput.appendChild(entry);
          cliOutput.scrollTop = cliOutput.scrollHeight;
          return resultNode;
        }

        cliInput.addEventListener('keydown', async function (e) {
          if (e.key === 'Enter') {
            if (cliInput.value.length > 500) {
              addOutput('validation', 'Input too long. Maximum command length is 500 characters.');
              cliInput.value = '';
              return;
            }
            const cmd = sanitizeCommandInput(cliInput.value);
            if (cmd.trim()) {
              commandHistory.push(cmd);
              historyIndex = commandHistory.length;
            }
            const pendingNode = addOutput(cmd, 'Processing...');
            if (pendingNode) {
              pendingNode.innerHTML = '<span class="terminal-loading">Processing...</span>';
            }
            const result = await executeCommand(cmd);
            if (pendingNode) {
              pendingNode.textContent = sanitize(result);
              cliOutput.scrollTop = cliOutput.scrollHeight;
            }
            cliInput.value = '';
          } else if (e.key === 'ArrowUp') {
            e.preventDefault();
            if (historyIndex > 0) {
              historyIndex--;
              cliInput.value = commandHistory[historyIndex];
            }
          } else if (e.key === 'ArrowDown') {
            e.preventDefault();
            if (historyIndex < commandHistory.length - 1) {
              historyIndex++;
              cliInput.value = commandHistory[historyIndex];
            } else {
              historyIndex = commandHistory.length;
              cliInput.value = '';
            }
          } else if (e.key === 'Tab') {
            e.preventDefault();
            const val = cliInput.value.trimStart();
            const parts = val.split(/\s+/);
            const prefix = parts[0] || '';
            const cmds = Object.keys(window.terminalCommands);
            const matches = cmds.filter(function (c) {
              return c.startsWith(prefix);
            });
            if (matches.length === 1) {
              const rest = parts.slice(1).join(' ');
              cliInput.value = rest ? matches[0] + ' ' + rest : matches[0];
            }
          }
        });
      })();

      (function () {
        var statusList = document.getElementById('status-list');
        var mainIndicator = document.querySelector('.status-indicator');
        if (!statusList) return;

        var items = statusList.querySelectorAll('.status-item');
        var dynamicItems = statusList.querySelectorAll('.status-item[data-url]');
        var pendingChecks = dynamicItems.length;
        var allOnline = true;

        function updateMainIndicator() {
          pendingChecks--;
          if (pendingChecks === 0 && mainIndicator) {
            mainIndicator.classList.remove('status-loading');
            mainIndicator.classList.add(allOnline ? 'status-ok' : 'status-error');
          }
        }

        if (dynamicItems.length === 0 && mainIndicator) {
          mainIndicator.classList.remove('status-loading');
          mainIndicator.classList.add('status-ok');
        }

        dynamicItems.forEach(function (item) {
          var url = item.getAttribute('data-url');
          var stateEl = item.querySelector('.status-state');
          var isSameOrigin = url.indexOf(window.location.origin) === 0;

          fetch(url + '/health', { method: 'GET', mode: isSameOrigin ? 'same-origin' : 'no-cors' })
            .then(function (response) {
              if (response.type === 'opaque' || response.ok) {
                item.classList.add('online');
                stateEl.textContent = 'operational';
              } else {
                item.classList.add('offline');
                stateEl.textContent = 'degraded (' + response.status + ')';
                allOnline = false;
              }
            })
            .catch(function () {
              item.classList.add('offline');
              stateEl.textContent = 'unreachable';
              allOnline = false;
            })
            .finally(updateMainIndicator);
        });
      })();
    </script>
    <script>
      (function () {
        var s = document.createElement('script');
        s.src = 'https://browser.sentry-cdn.com/7.120.3/bundle.min.js';
        s.async = true;
        s.integrity = 'sha384-QhNWP5Exx8ZPPgZF2s+nKw/cl8cah1/6MVdZfR8a22f2KO0OsBNonujHvYJlrWIP';
        s.crossOrigin = 'anonymous';
        s.onload = function () {
          Sentry.init({
            dsn: 'https://aac5a1e6273a481ea754e3dccb54f4e8@glitchtip.jclee.me/1',
            environment: location.hostname === 'resume.jclee.me' ? 'production' : 'development',
            ignoreErrors: [
              /chrome-extension/,
              /moz-extension/,
              /ResizeObserver loop/,
              'Script error.',
              'Network request failed',
              'Load failed',
              'Failed to fetch',
            ],
            denyUrls: [/extensions\//i, /^chrome:\/\//i, /^moz-extension:\/\//i],
            beforeSend: function (event) {
              if (event.request) {
                delete event.request.cookies;
                delete event.request.headers;
                if (event.request.url) {
                  event.request.url = event.request.url.split('?')[0];
                }
              }
              if (event.user) {
                delete event.user.email;
                delete event.user.ip_address;
              }
              if (event.extra) {
                delete event.extra;
              }
              return event;
            },
            beforeBreadcrumb: function (breadcrumb) {
              if (breadcrumb.category === 'xhr' || breadcrumb.category === 'fetch') {
                if (breadcrumb.data && breadcrumb.data.url) {
                  breadcrumb.data.url = breadcrumb.data.url.split('?')[0];
                }
              }
              return breadcrumb;
            },
          });
          Sentry.setUser({ id: 'anonymous' });
        };
        document.head.appendChild(s);
      })();
    </script>
  </body>
</html>
